<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	xmlns:sec="http://www.thymeleaf.org">
	<head th:replace="/commons/template.html :: headerfiles"></head>
	
	<body>
	 	<div th:replace="/commons/template.html :: menu"></div>
	 
	 	<div class="main-container">
			<h1 th:text="#{messages.employee.list}"></h1>
			
			<div th:if="${message}" th:text="${message}" th:class="${'alert ' + alertClass}"></div>
			
			<a th:href="@{/employees/create}" th:text="#{messages.employee.create}" sec:authorize="hasAuthority('UPSERT_EMPLOYEES_PRIVILEGE')"></a>
			
			<div th:if="${employees.size() > 0}" th:each="employee : ${employees}">
				Nr. personal: <span th:text="${employee.personalNumber}"></span><br/>
				Emri: <span th:text="${employee.firstName}"></span><br/>
				Mbiemri: <span th:text="${employee.lastName}"></span><br/>
				
				
				<div th:if="${employee.vacancy != null}">
					Salla: <span th:text="${employee.vacancy.area.name}"></span><br/>
					Numri: <span th:text="${employee.vacancy.number}"></span><br/>
				</div>
				
				<div th:if="${employee.vacancy == null}">
					Salla: <span>-</span><br/>
					Numri: <span>-</span><br/>
				</div>
				
				Statusi: <span th:text="${employee.enabled} ? #{messages.active} : #{messages.not.active}" th:style="${employee.enabled} ? 'color: #1f9583;' : 'color: #f1818c;'"></span><br/>
				 
				<a th:href="@{'/employees/edit/{id}'(id=${employee.id})}" th:text="#{messages.employee.edit}" sec:authorize="hasAuthority('UPSERT_EMPLOYEES_PRIVILEGE')"></a>
				
				<form method="POST" th:action="@{'/employees/delete/{id}'(id=${employee.id})}" sec:authorize="hasAuthority('DELETE_EMPLOYEES_PRIVILEGE')">
					<input type="submit" th:value="#{messages.employee.delete}"/>
				</form>
			</div>
			
			<div th:if="${employees.size() == 0}">
				<p th:text="#{messages.no.employees}"></p>
			</div>
		</div>
		
		<div th:replace="/commons/template.html :: js-scripts"></div>
	</body>
</html>